// made with p5 and love. http://www.p5js.org
//many concepts taken from daniel schiffman  @thecodingTrain @schiffman   https://www.youtube.com/user/shiffman   https://github.com/CodingTrain
// copyright 2021 Spayse Mc G http://www.livestreamanimator.com

let texts= `More financial advisors think Bitcoin is going to 0-9,999 than over $100,000 5 years from now. 
Thatâ€™s why you should reevaluate who you are getting financial advice from!
NewsBud Retweeted Florida Unites Against Mandated Insanity FNullifies jhaskinscabrera Florida Unites Against Mandated Insanity
FNullifi â€œFUAMI Defies Vaccine-Passport Requirement by Florida Festival & Counters It with â€œNO Yellow-Badge for Floridiansâ€ Campaign!â€ Read, Share, Join & Support: https://fuami.org/2021/04/11/fuami-defies-vaccine-passport-requirement-by-florida-festival-counters-it-with-no-yellow-badge-for-floridians-campaign/
Show this threadmberly Klacik and ÉƒRAJ, PhD liked
Liz Wheeler iz_Wheeler
I will not comply with a vaccine passport. No matter what.
Litecoin cryptocurrenc MichaÃ«l van de Poppe
CryptoMichN Just a matter of time until #Litecoin hits $500.tm3k
tm3kAlways a good idea to buy things you are ok with holding forever, and to always bring new money into an investment, not sell something to raise funds for a new investment. If you cant afford to do that maybe that says something about your position sizing.
BMillzebub (Call me Bub) and 2 others liked
BatAnsgar OdinsonBat
AnsgarTOdinson
http.listen(HTTP_PORT,  (socket) => console.log
client=new Client("http://216.196.175.106",options)
client.on("connect",(socket)=>{
emitter.setMaxListeners(30)
 console.log(client)
 client.on("BLOCKCHAIN",(chain)=>{blockchain.replaceChain(chain)
p2pServer.getBC(blockchain)
console.log(==client
client.on("tx",(transaction)=>{
console.log("recieved tx")
transactionPool.updateOrAddTransaction(transaction)
client.on("broadcastTransaction",(transaction)=>{
console.log("recieved tx")
client.emit("newTX",transaction)
[{"timestamp":"Genesis time","lastHash":"-----","hash":"f1r57-h45h","data":[],"difficulty":3,"bubbles":0,"mints":3},{"timestamp":1618162022117,"lastHash":"f1r57-h45h","hash":"00f5bbed26b7aabc81a535fb80904aac6149fd58179fc6a4394ccaed0e4e4d170448690d6340c302","data":[],"difficulty":3,"bubbles":326,"mints":2}]
})
client.emit("chain",blockchain.chain)
}
client2=new Client("http://107.152.38.112:42042",o
7h
Its a horror franchise about dinosaurs and the dangers of unfettered corporate power over genetic technology.  Were you expecting the dinosaurs to tickle them to death?  
this is the type that the this is 
Have you seen any of the previous movies?  Eddie Kar got chomped by 2 rexes who decided to play tug-o-war.
Quote Tweet
iana.
HailMothe
Reminder JURASSIC WORLD had the most unnecessarily violent and traumatic death.
Show this thread
0:40
91.6K views
L33T GUY liked
Steve Hodl Full moon symbolPopcorn
MrHodFishing trips should be made a priority for all Bitcoiners.
Show this threadonspiracy catz CatzConspiracy bubble And another new creator making good content! This time taking on Mr Shed Rage himself!Flat earther has a hard time understanding gravity. I forgot to mention it in the video, but if you liked what I've done here, hit that like button and think about a sub. Much appreciated!Hi guys! This is my f...
youtube.com Bryce Nofomo BryceWeine 1 bubbleDave's Digest TOP STORIES FOR YO Which coins with a small market cap have the best potential in the next 12â€“18 months
Updated Jan 16, 2019
why what this sthat
This is the absolute Top 9 of the best low cap coins.All of these coins have strong fundamentals, some already with millions of users and it would not be weird if they were... Read More Â»
How do I live? Iâ€™m 13 and been kicked out. Adela Hogarth Written May 22, 2020 Depending on where you are, youâ€™ll need to go to a police office.The sooner, the better, as having ready access to your legal documentation is beneficial and the police hav... Read More Â»
ssssssssss Was John Lennon a bad person? kjkkLawrence Watson, Podcaster at The Unpaid Programming Podcast (2019-present)
Written May 19, 2020 George Harrison probably said it the best. That he could be amazing, wonderful, kind, charming, friendly, affable, etcâ€¦ But he could also be such a BASTARD.I donâ€™t really t... Read More Â»
Will Bitcoin crash again in late 2020 and early 2021?
Eugene Chygyryn, Writer at Cryptocurrencies (2014-present)
Written Dec 30
There might be â€œlocal crashesâ€ thatâ€™s almost certain.But in general, crypto is set for a new bull run which may last up to 300k BTC.Donâ€™t fall for the â€œnext lockdownâ€ predictions of ... Read More Â»
What's the most effective way to grow a Youtube Channel?
Written Mar 14 Do your research, and improve your videoâ€™s search rankingYes, YouTube is a social platform, but itâ€™s also a search engine. And all else being equal, one of the top strategi... Read More Kim Wilde - Kids In America (Official Music Video)
Looking out a dirty old windowDown below the cars in theCity go rushing byI sit here aloneAnd I wonder whyFriday night and everyones movingI can feel the hea... youtube.com MarvelGirl Heart with arrowHeart with arrowHeart with arrow
MarvelGirl_TM bubble Leaving the hotel after the best weekend I have had in too long to say. Why is it thereâ€™s always more to bring home than what I came with? I spent the entire weekend in the hotel! Pic of our view
Evans Murphy liked Nathaniel pdxsecularguy Jesus was a real person. Rider Of Dinosaurs Face with medicalmask Flag of Scotland (Stay Safe) and Shay Marie Lieb (He/They) liked 3Rustynails Ipsofacto1210
Remember when they had cigarette machines? Black Cat BlckCatBlckSky what is it with right-wingers getting OBSESSED with the word "post-modernism"?
I don't even know what they mean when they use that word, but I'm pretty sure that it's not what everyone else means when they say it!
Reds Rhetori Have you ever walked into aroom then forgot why you did?
Whatâ€™s happening Royal familyThis morning The photo of the Queen giggling with Prince Philip involves bees, say Snopes and the BBC Honeybee
Insider YesterdayVaccine passports are being unveiled across the world. Here's how they could work in the US.
Politics Â· Trending
Chris Wallace
11.7K Tweets`

let text1=`aaabbbcccdddeeefffggghhhiiijjjkkklllmmmnoopqrstuvwxyz0000000000000000000000000000000000000000"nonce":0,"difficulty":3,"bubbles":[{"u":0,"n":0}],"mints":[]}]"nonce":0,"difficulty":3,"bubbles":[{"u":0,"n":0}],"mints":[]}]333333333333333333333222222222222222222222{"chain":[{"timestamp":"Genesis time","lastHash":"-----","hash":"f1r57-h45h","data":[],"nonce":0,"difficulty":3,"bubbles":[{"u":0,"n":0}],"mints":[]}]}2222222224444444444444444444445555555555555555555555555555555555555556666666666666666666666666666666666777777777777777777777777777777777777777777777777788888888888887777777777777777777777777777777777777777777777777776666666666666666666666666666666666666666888888999999999999999999998898979789758957564563453452342345345345w123123210000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000asdfghasdfghjasdfgcbcbcbcbcbcbcbcbcbcbcbcbcbabcdfgabcdefgabcdefgblock chain ,{},[]<:::,mnopquwtyfdhasldwghcbzmcvbvzsdl;wer;;;111111111111111ffffffffffffffffffffff()77774563214554788845500000000000000000000000000000000000000000000000000000000000()abcdefgeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeffefefeffefefefefefefefggggggggggggggggggg01234567aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaeeeeeeeeefffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`
let text2=`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa999999999999999999999999ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff99999999999998888888888888788888888888888888888888888877777777777777777777777777777777777777777777777777777777777777777776666666666666666666666666666666666666666666666666666666655555555555555555555555555555555555555555555555555564544444444444444444444444444444444444444444444444444333333333333333333333333333333333222+222222222222222222222222222222222221111111111111111111abcdreinmbxcm,.vZMXC>?v,blockinputjjdfk'gl;gtio0000000000000abcdefggfedcaaaaaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbccccccccccccccccccccccccccddddddddddddddddddddeeeeeeeeefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffggggggggggggggggeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9999999999080560756795r96459679753488509345803945898468396-590458609534985950345,,,,,,,,,{}{}{}{}{}{}{}{[][][][][][,,,,,,,,,,,,,::::::::::::::::::::::::0000012333330441jgdfgdfjghsdflkjhfnsxcbvhcbv000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111999999999`
let text3=`0900000000000000000000000000000000000000000000000000000000000000000000aaaaaaaaaaaaaaabbbbbbbbbbbbbbbbbccccccccccccccccccccccccccddddddddddddddddddddeeeeeeeeefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffggggggggggggggggeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeefffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9999999999080560756795r96459679753488509345803945898468396-590458609534985950345,,,,,,,,,{}{}{}{}{}{}{}{[][][][][][,,,,,,,,,,,,,::::::::::::::::::::::::0000012{"chain":[{"timestamp":"Genesis time","lastHash":"-----","hash":"f1r57-h45h","data":[],"nonce":0,"difficulty":3,"bubbles":[{"u":0,"n":0}],"mints":[]}]}333330441jgdfgdfjghsdflkjhfnsxcbvhcbvksdjfskljfdf99999999999999999999999999999999999999999999999999999988888888888887888888888888888888888888888777777777777777777777777777777777777777777777777777777777777777777766666666666666666666666666666666666666666666666666666666555555555555555555555555555555555555555555555555555645444444444444444444444444444441111111111111111111111111111111111111111111111111111111111111111111111111114444444444444444444443333333333333333333333333333333332222222222222222222222222222229999999999999999999999999999999999999999999999999999999999999998978978978090667867757456456456453452343523454565456565675676787878978989789989098967876756656456000000000`
let text4=`1111111111ffffffffffffffffffffff()7777456321455478884550000000000000123456780000000000asdfghasdfghjasdfgcbc0000000000000000000000000000000000000()abcdefgeeeeeeeeeeeeeeee{"chain":[{"timestamp":"Genesis time","lastHash":"-----","hash":"f1r57-h45h","data":[],"nonce":0,"difficulty":3,"bubbles":[{"u":0,"n":0}],"mints":[]}]}eeeeeeeeeeeeeeeeeeeeinputoutput,,,,efefefeffefefeffefefefefefefefggggggggggggggggggg012345678900000000000000000000000000000000000000000000000000000000000000011111111111111111111111111111111111111111111111111111113333333333333333333333333333333333333333333332222222222222222222222222222224444444444444444444445555555555555555555555555555555555555556666666666666666666666666666666666777777777777777777777777777777777777777777777777788888888888887777777777777777777777777777777777777777777777777776666666666666666666666666666666666666666888888888888889999999999999999999999999999999999999998898979789758957564563453452342345345345w123123210000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000abcdefghijklmnopqrstuvwxyz9876543210gfedcbaabcdefg00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004444444444444444444444444444444444444444444444444444455555555555555555555555555555566666666666666666666677777777777777777777788888888809090990888888888`
let text5=`{"balance":lastHash"500return new this('Genesis time', '-----', 'f1r57-h45h', [],[{"u":0,"n":0}],[], 0, 0)  },"keyPair":{"ec":{"curve":{"type":"short","p":"ffffffff}f{}gffffffffffffff[]][*()ffffffffffGffffffffffffffffffffffefffffc2f","red":{"m":"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffhghghghghghghfffffffffffffffdddddddddddddddddddddddddddddddddddddd111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111110000000000000000000999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000099999999999999999999999999999999999900000000000000000000000000000000000000aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaassssssssssssscccccccccccccccvvvvvvvvvzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzdddddddddddddddddddd00000000000000000000000000000000000000001111111111111111111111111111111111`
/////////////////////////////////////////////////////////
/////////////////////////////////////////////////////
////////////////////////////////////////////////
///////////////////////////////////////////


let ar2=[]
 let ar1=[]
  let ar3=[]
  let ar4=[]
let ar5=[]
 let nnny
let bDcode
let ccc=1
 let xxx=1
  let bbb=1
   let mx=300
     let k=false
    let messnum
   let socket
 let inp
let inp1
  let inp2
   let inp3
    let inp4
   let button
  let button2
 let button4
   let button6
    let wi=0
     let hi=0
      let bub
       let sata=[]
        let b2=[]
       let bubbles=[]
      let ftree
     let bubble={} 
    let encoded 
   let ablock={}
  let bubmum=""
 let decoded=[] 
let blocImg ={}
 let inpb
  let aaa =false
    let newsup=true
     let bX
       let cX=45
         let wX
          let iswal
         let ism
        let isb
      let huffman
        let bubmum2=""
          let colorPicker
           let r
          let g 
        let b
      let ks=""
   let thisText =""
  let lerpp=0
 let slid
   let slid2
     let slid3
	let button7
  let aGame={}



function preload(){
  ks=texts
  huffman =Huffman.treeFromText(ks)
    sata = loadJSON("userdata.json")

    bubhead= loadImage('bubhead.png')

    bub= loadImage('mewbub.png')
    
wi =innerWidth
hi= innerHeight

}
let z
function setup(){
iswal=false
 
    blocImg=new BlocImg( x=400,y=400)
       blocImg.p= b2   
     blocImg.x=b2/4/2+x*2
       blocImg.wtiteColor
    
	createCanvas(wi-25,hi-25)
 
 bX=-cX*3
 wX = bX
 
      inp = createInput()
      colorPicker = createColorPicker([56, 215, 250]);
      colorPicker.position(20, 12);
        button = createButton('Blow Bubble')
        
        button.mousePressed(doHuff)
       button2 = createButton('click send')
    
         button2.mousePressed(toSnd)
          inp3 = createInput('enter address to send coin to')
         
         inp2 = createInput('amount')
      
         inp3.size(cX*4)
          inp2.size(cX)

	  button4 = createButton('mine block')

  button4.mousePressed(letsMine)
 button7 = createButton('submit block')

    button7.mousePressed(sendBlock)

      button8 = createButton('Huff block')

     button8.mousePressed(doBlockHuff)

      button5=createButton('wallet') 
        button5.position(cX,600)
          button5.mousePressed(sw)
  
            button5=createButton('bubble') 
          button5.position(cX*2.5,600)
          button5.mousePressed(bw)
         button6=createButton('mining') 
        button6.position(cX*4.2,600)
       button6.mousePressed(mw)
        slid = createSlider(-0.41, 1.5,0.05,0.00001)
          slid.style('width', '330');
           slid2 = createSlider(0.4,0.92,0.85,0.001)
          slid2.style('width', '330');
        slid3 = createSlider(-0.233, 0.2,0.07,0.000000000001)
        slid3.style('width', '330');
         slid4 = createSlider(0.05, 1.2,0.7,0.0001)
          slid4.style('width', '330');

         decoded=[]
         z=wi+hi/2


 

      

 io= io.connect(window.location.href, {cors:{
  origin:'http://127.0.0.1:42042 ',
ReferrerPolicy:"same-origin"
  } 
})

      socket =io
     socket.emit('hi',"hello"  )
  console.log("hello sent")
   console.log(socket)
     socket.on("wallet",getWallet)
     socket.on("foaming",(foam)=>{
    
      huffman =Huffman.treeFromText(ks)


      decoded = huffman.decode(foam.bubble)



     const bubble= new Bubble(foam.user,decoded,foam.sent,foam.num)
      //let buttonx=createButton("x")
      bubble.position=bubbles.length
            
     
     // bubble.but=buttonx
	bubble.but.is=true
      bubble.but.mousePressed(closeit)
      getFoam(bubble)
    

           })
    socket.on("theGame",(gO)=>{

      aGame.time=gO.time
      aGame.shortest=gO.shortest
      aGame.leader=gO.leader

      console.log(aGame)
    })


           
    socket.on("huffThisBlock",(block)=>{
    
      ablock=block
      console.log(ablock)
     
     return ablock
     
    })

           if (inp.value()){ doHuff()}
       

    // let's turn this text into 8bit arrays
for (var i = 0; i < text1.length; i++) {
  let estrings= text1.charCodeAt(i)

       ar1.push(estrings)  //our array of 8 bit  decimal values
}

for (var i = 0; i < text2.length; i++) {
  let estrings= text2.charCodeAt(i)

       ar2.push(estrings)  //our array of 8 bit  decimal values
}
for (var i = 0; i < text3.length; i++) {
  let estrings= text3.charCodeAt(i)

       ar3.push(estrings)  //our array of 8 bit  decimal values
}

for (var i = 0; i < text2.length; i++) {
  let estrings= text4.charCodeAt(i)

       ar4.push(estrings)  //our array of 8 bit  decimal values
}


for (var i = 0; i < text2.length; i++) {
  let estrings= text4.charCodeAt(i)

       ar4.push(estrings)  //our array of 8 bit  decimal values
}

for (var i = 0; i < text5.length; i++) {
  let estrings= text5.charCodeAt(i)

       ar5.push(estrings)  //our array of 8 bit  decimal values
}

console.log(ar2)


 }



function sendBlock(){

	let challenger ={ 	
			"finder":sata.name,
				"huff":ablock,
				  "v1":slid.value(),
				  "v2":slid2.value(),
				  "v3":slid3.value(),
				  "v4":slid4.value()
			}
	socket.emit("challenger",challenger)

		console.log(challenger)

}
   
let myTxt
function makeDic(){
  myTxt=`[{"amount":420,"address":"04574dc615ac4864b446b32e1e51133ba28f5abe71fe51501fde9a25d247fe169a633ff685f8a841cb78ec5c9127e52fb533e0effddba849b83e92d4434620fa75"}]}],"nonce":223,"difficulty":2,"bubbles":[{"u":"Spayse","n":1}]},{"timestamp":1619021121282,"lastHash":"009c1c8de8e2bf38c12c6cafc9f53e293ae8bf4ba55e8d494b546d1940a272635dfdf2c32769ca96","hash":"000df63de5b23c7a8fb22e6dee69850633624f121f32e355f56321e2d2bc912c00a58ec8714f72a6","data":[{"id":"5f935fd0-a2bb-11eb-840e-517d3b283763","input":{"timestamp":1619021121101,"amount":0,"address":"04e18a0f551bdf457852848c53ef0368f05aa20b6fa7a23b09dce924f10ca60ad999b93017d095d9f755b38b70f8d991b396e6f4f7cc4a23825c309330f8727298","signature":{"r":"578eb3fe69325281ba1d11f5065903385e2195d78fe3362755960e45ad81b0ee","s":"7ad8c9ac53fae1aaed30255b6e90248e79564ab30f29dfebf34cf14d2b81fb9","recoveryParam":1}},"outputs":[{"amount":420,"address":"04574dc615ac4864b446bffffffffffffffffffffffffffdfffffffffffffffffddddddddddddddddddddddddddddd4eeeeeeeee43343400000000000000000000000000000000000000000111111111fbbbbhbbbbbbbbbbbbbbbbbbb32e1e51133ba28f5abe71fe51501fde9a25d247fe169a633ff685f8a841cb78ec5c9127e52fb533e0effddba849b83e92d4434620fa75"}]}],"nonce":3379,"difficulty":3,"bubbles":[]},{"timestamp":1619021650150,"lastHash":"000df63de5b23c7a8fb22e6dee69850633624f121f32e355f56321e2d2bc912c00a58ec8714f72a6"}]`
  let blurray2=[]
  let blurray=[]
  let blurray3=[]
  let blurray4=[]
let blurray5=[]
let blurray6=[]
let blurray7=[]
let blurray9=[]



for (let i = 0; i<ar1.length; i++ ){
  let slidx=slid.value()
let n = lerp(ar1[i],ar4[i],slidx)
blurray.push(n)


}


for (let i = 0; i<ar1.length; i++ ){
  let slidx=slid2.value()
let n = lerp(ar3[i],blurray[i],slidx)
blurray6.push(n)


}



for (let i = 0; i<ar2.length; i++ ){
  let slidx=slid2.value()
  let n = lerp(ar2[i],ar3[i],slidx)
  blurray2.push(n)
  
  }


 for (let i = 0; i<blurray.length; i++ ){
    let slidx=slid3.value()
    let n = lerp(blurray2[i],blurray[i],slidx)
      blurray3.push(n)
    }

 for (let i = 0; i<blurray.length; i++ ){
    let slidx=slid.value()
    let n = lerp(ar4[i],blurray3[i],slidx)
      blurray5.push(n)
    }


    for (let i = 0; i<blurray.length; i++ ){
      let slidx=slid4.value()
      let n = lerp(blurray2[i],blurray3[i],slidx)
        blurray7.push(n)
      }
  
  

 for (let i = 0; i<ar5.length; i++ ){
    let slidx=slid3.value()
    let n = lerp(blurray5[i],blurray6[i],slidx)
      blurray4.push(n)
    }
 

    for (let i = 0; i<ar5.length; i++ ){
      let slidx=slid3.value()
      let n = lerp(blurray4[i],blurray6[i],slidx)
        blurray9.push(n)
      }
   
   
 for (let i = 0; i<blurray2.length; i++ ){
    let slidx=slid4.value()
    let n = lerp(blurray9[i],blurray7[i],slidx)
    myTxt+=String.fromCharCode(n)     
   }

console.log(myTxt)
return myTxt

}


let rencoed=""
function doBlockHuff(){
  makeDic()
  huffman =Huffman.treeFromText(myTxt)
rencoed = huffman.encode(JSON.stringify(ablock))
console.log (rencoed)
bDcode= huffman.decode(rencoed)
return bDcode,rencoed
} 


console.log(bDcode)

isb = true

  function bw(){
    if (bbb<1){isb = true}
   if (bbb>0){isb = false,bbb=-1} 

console.log(iswal)
bbb++
ccc++
xxx++

return iswal 
  }

iswal = true
  
  function sw(){
    if (xxx<1){iswal = true}
   if (xxx>0){iswal = false,xxx=-1} 
console.log(iswal)
bbb++
ccc++
xxx++
return iswal 
  }
   ism = true

  function mw(){
    if (ccc<1){ism = true}
   if (ccc>0){ism = false,ccc=-1} 
    console.log(ism)
bbb++
ccc++
xxx++

return ism
  }

  function toSnd(){
  
   let amount=inp2.value()
     let recipient=inp3.value()
    let sendIT =true
bubtx={amount,recipient}
socket.emit('sndTx',bubtx)

return iswal
}



let siion={}
function getWallet(wallet){
siion.bal=wallet.balance
siion.addr=wallet.address
siion.block=wallet.block
siion.tx=wallet.tx
console.log( siion)
return siion
}



function doHuff(){
   // generate the tree
  //let treeEncoded = huffman.encodeTree(); // will return a javascript array with tree representation
  //let treeJSON = JSON.stringify(treeEncoded); // get a JSON string for easy transportation
  //console.log(treeJSON)

  //save(ftree, 'ftree.json');
  huffman =Huffman.treeFromText(ks)
  
encoded = huffman.encode(inp.value())
//  return the compressed  text

   
    let nats=[...`${inp.value()}`]//how much did we compress it?

    let tests=[...`${encoded}`]

     //find out here
    console.log("original :" +nats.length+ "  Modified:"+ `${tests.length}`)
    let rayshio =100-(tests.length/nats.length)*100
    console.log("Compression  achieved :  "+rayshio+"% (40% is good for bubbles, 25% is good for transactions)")
    console.log(encoded)
    decoded = huffman.decode(encoded); // will decode text to original version
     tester = JSON.stringify(encoded)
     bubmum = "Compression  achieved :  "+rayshio+"% "
    
    for (var i = 0; i < encoded.length; i++) {
                  estrings= encoded.charCodeAt(i)

                       b2.push(estrings)  //our array of 8 bit  decimal values
              }

    
    blowBubble()
    k=true
    inp.value('')
    return encoded,b2,bubmum,inp.value(),decoded,huffman
    
    }


    function closeit(){

      closeitb(bubble)
      
      
         }

function blowBubble(){

 let mes ={"name":sata.name,"bubble":encoded}
  socket.emit("newBubble",mes)


}
function letsMine(){
socket.emit('doMining')

}

let e=1.7
       let  closed = true


function preview(){
  
r =255*colorPicker.color()._array[0]
g = 255*colorPicker.color()._array[1]
b = 255*colorPicker.color()._array[2]

 
  fill(r*e, g, b,190/e)
rect(320*(e+.2),100,293*(e+.2), 185)

fill(84)
rect(330/(e+.2), 105*(e+.2),280/(e+.2), 170/(e+.2))
fill(220)
text("huffer :"+encoded,380, 320*(e+.2),620,40)
textSize(13)
fill(220,200/e)
text(sata.name,430, 125*(e+.2),600)
fill(0)
 text(inp.value(),335/(e+.2), 140/e,256)

 
}

// send bubble to draw in an array
function getFoam(bubble){ 
  

console.log(bubble)
bubbles.push(bubble)

return bubbles
}

let newsM=[]
let newsItems=[]


newsItems.x=50
newsItems.y=  innerHeight-30  
newsItems.end=newsItems.length    
newsItems.push({"user":"Spayse","message":"click anywhere inside the ticker to add a network news update"})


for(let item of newsItems){
  let nx= 1500
  let ny=innerHeight-120
  let auser =`${item.user}`
  let amessage = `${item.message}`
  let newsevent=`${auser+" : "+amessage}`
  newsM.x=nx 
  newsM.y=ny

  newsM.push(newsevent)
 
  
  

}






function draw(){

  background(42)


r =255*colorPicker.color()._array[0]
  g = 255*colorPicker.color()._array[1]
 b = 255*colorPicker.color()._array[2]
 image(bubhead,width/2-500,height/2-175,1000,500)



  textSize(16)
  // BUTTON OR INPUT PLACEMENT
    button2.position(wX*2.5, 400)
    inp3.position(wX*1.8,340)
    inp2.position(wX*1.8,340)
    inp.position(bX*1.8,240)
    button.position(bX*2.6, 240)
    slid.position(width/2-200 ,mx+35)
    slid2.position(width/2-200 ,mx+55)
    slid3.position(width/2-200 ,mx+75)
    slid4.position(width/2-200 ,mx+95)

    button4.position(width/2+75, mx+225)
        button7.position(width/2-50, mx+225)
      button8.position(width/2-200, mx+225)


    //  info PANES
    panes() 

    //animation
        if(inp.value()){
          e
     e-=0.2
                  preview()
            
                  
                  
 if (e<=1){e=1}
        }else 
        if(e<2){
          
          preview(),e+=0.123}

        if(e>=2){e+=0}
        
    
    
        if (iswal=true &&xxx<1 ){wX+=3} else { wX-=3}

      if (wX>=cX){wX=cX}  
      if(wX<=-175){wX=-175} 

      
      if (isb=true &&bbb<1 ){bX+=3} else { bX-=3}

      if (bX>=cX){bX=cX}  
      if(bX<=-175){bX=-175} 

      if (ism=true &&ccc<1 ){mx+=3} else { mx-=5}

      if (mx>=300){mx=300}  
      if(mx<=-215){mx=-215} 

       //time
    const bubbletime= 1627108621000
                let timeleft =  Date.now() -bubbletime

                let bubday= timeleft/86400000
                let bubhrs= timeleft/1000/60/60/24
                let bubmin = bubhrs/60
                let bubseks= bubmin/60
                let yrs = 0
                let newtime=bubday
                //console.log(timeleft)
           //......................    // draw bubbles
  for(let i=0 ; i<bubbles.length;i++){
    let bubble=bubbles[i]
        let  kzv=i*100
              bubble.show(16,kzv)
         	
                if(bubble.but.is){     
              bubble.but.position(bubble.x,bubble.y)
            }
      }
 
 
      let ff =0
      let gg =  innerHeight-90
 fill(r, g,b,114)
 let newsButton= rect(ff,gg-35,70,35 )
 const news =  rect(ff,gg,innerWidth,125)
 let newsbox= ff+70+gg-35
 let ad=(mouseX+mouseY+gg)/2
newsButton.newsbox=newsbox
//panes code
  function panes() {
    fill(r, g, b, 255 / e)
    rect(wX, 285, 220, 190)

    fill(89, 220)
    rect(wX + 5, 290, 210, 180)

    fill(r, g, b,176)
    rect(width / 2 - 200, 250 + -wX * 6+150, 400, 550)

    fill(89, 220)
    rect(width / 2 - 195, 255 + -wX * 6+150, 390, 540)



    fill(r, g, b, 120)
    rect(27, 550, 220, 180)

    fill(r, g, b, 255 / e)
    rect(bX, 75, 220, 190)

    fill(89, 220)
    rect(bX + 5, 80, 210, 180)

    fill(r, g, b, 170)
    rect(width / 2 - 230, mx, 460, 275)

    fill(89, 170)
    rect(width / 2 - 225, mx + 5, 450, 265)

    noStroke()
    fill(r, g, b, mx-99)
    rect(width / 2 - 230, mx+395, 460, 140)

    fill(89, mx-99)
    rect(width / 2 - 225, mx + 400, 450, 135)
  }

function newsBanner(){
 if (newsup&&ad>0&&ad<30&&mouseIsPressed)
 {newsup = false,console.log(newsup) }else
  if(ad>0&&ad<30&&mouseIsPressed&&!newsup ){newsup=true,console.log(newsup)}
}
setInterval(newsBanner,700)
if(newsup==false){animateDown}else if(newsup&&gg<=innerHeight){animateUp}

function animateDown(){
if (gg<=innerHeight) {gg+=3}

}

function animateUp(){
  if (gg>=innerHeight) {gg-=3}
  
  }
  let days =newtime
  let moon = JSON.stringify(days/29.530594135802469).substring(0,9)
	let newString=JSON.stringify(days%29.530594135802469).substring(0,8)
  let degree = JSON.stringify(days%360).substring(0,9)
  let daygree = degree%29.530594135802469

    fill(255)
    text(moon+" < moons >",50,45 )
    text(newString+" < suns >",50,70 )
    text(daygree+" < deg >",50,105 )

      let newx = 0
      fill (newx,255-newx) 
     if(newx<255) newx+=3
     
      if(newx>255){newx=255}
      if(inp.value()){newx=0}
	fill(190)
           text(bubmum,bX+bX*6, 100,200,40)
           
        text("balance "+siion.bal,wX+12,400 ,400,400) 
	 text("block"+siion.block,wX+12,425 ,400,400) 

	 text("control deck",87,700 ,400,400) 
   fill(220, wX +150)
   text(JSON.stringify(siion.tx),wX+200,wX+200 ,400,400) 





   newsM.end=0
  inpb=inp.value()
  fill(200,33,0)
  textSize(26)
  text("News",ff+4,gg-10)
  
      fill(9)
      textSize(18)
 text("Block size :"+JSON.stringify(ablock).length+" Bytes",mx+312 ,mx+90,230, 250)
        if (rencoed){
    

          let nnn= rencoed.length
          let xxxx= JSON.stringify(ablock).length 
            let rasio= 1-nnn/xxxx
            text ("Compression ratio :" +JSON.stringify(rasio).substring(0,7), mx+312,mx+120)
	  text("Compressed size :"+rencoed.length+" Bytes",mx+312 ,mx+130,270, 277)
        }

   
  
      for (let i = 0 ;i<newsM.length;i++){
        
        textSize(20)
        fill(255)
        text(newsM[i],newsM.x,newsM.y+70)
        newsM.end+= newsM[i].length*textSize()      
        newsM.x-=1.7
        

      }if(newsM.x+newsM.end<=1){newsM.x=2000}
      image(bub,innerWidth-130,innerHeight-130,125,125)
	textSize(24)

       text("mining",width/2-40,mx+260)

      fill (200,190,11,mx-99)
       text("Block",width / 2 - 225+9, mx + 400+18)
       text("Time Left",width / 2 - 225+100, mx + 400+18)
       text("Shortest",width / 2 - 225+240, mx + 400+18)
       text("Leader",width / 2 - 225+370, mx + 400+18)

       fill (200,190,188,mx-99)

       text(siion.block,width / 2 - 225+12, mx + 400+45)

    }
   
    function closeitb(){
      for (let bubble of bubbles){ 
      bubbles.splice(bubble.position,1)
    
    bubble.but.is=false
    
      }
   }
